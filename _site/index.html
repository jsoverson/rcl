
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Remote Client Logging &mdash; RCL</title>
    
    <meta name="author" content="Jarrod Overson">

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!--<link href="/assets/themes/twitter/bootstrap/less/bootstrap.less" rel="stylesheet/less" type="text/css">-->
    <!--<link href="/assets/themes/twitter/bootstrap/less/responsive.less" rel="stylesheet/less" type="text/css">-->
    <link href="/assets/themes/twitter/css/site.less" rel="stylesheet/less" type="text/css">
    <link href="/assets/themes/twitter/css/highlight.css" rel="stylesheet" type="text/css">
    <link href="/assets/themes/twitter/bootstrap/less/bootstrap.css" rel="stylesheet" type="text/css">
    <script src="/assets/themes/twitter/js/less-1.3.0.min.js" type="text/javascript"></script>
    <script>
        var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-22728809-1']);_gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>

<body>

<div class="masthead">
    <div class="container">
        <h1 class="brand">RCL</h1>

        <h2>Remote Client Logging</h2>
    </div>
    <p>
        <a href="http://github.com/jsoverson/rcl" class="btn btn-inverse">Github</a>
    </p>
</div>

<div class="container" id="main">
    <div class="content">
        
<div class="row">
  <div class="span12">
    <section class='row bulletpoints'>
  <div class='bullet span4'>
    <h2>What is RCL?</h2>
    <p>
RCL is a browser library and server client that allows you to log extensively from a JavaScript
application to a remote consumer.
    </p>
  </div>
  <div class='bullet span4'>
    <h2>What do I get?</h2>
    <p>
      Loads of beautiful logs viewable from multiple clients all the while not bloating your production code.
    </p>
  </div>
  <div class='bullet span4'>
  <h2>Development priority</h2>
    <p>
      <a href='https://github.com/jsoverson/grunt-strip'><code>grunt-strip</code></a>
      was developed in parallel to remove all your logging before production deployment.
    </p>
  </div>
</section><section class='code-example row'>
  <h2>Use <code>rcl</code></h2>
  <img alt='Code example' src='/assets/images/code-example.png' />
</section><section class='output-examples row'>
  <h2 class='span12'>And get this</h2>
  <div class='span12'>
    <img alt='Terminal output' id='terminalOutputExample' src='/assets/images/terminal-output.png' />
  </div>

  <h2 class='span12'>And this</h2>

  <div class='span6'>
    <a data-toggle='modal' href='#chromeOutputModal'>
      <img alt='Chrome output' id='chromeOutputExample' src='/assets/images/chrome-output.png' />
    </a>
  </div>
  <div class='span6'>
    <a data-toggle='modal' href='#iphoneOutputModal'>
      <img alt='iPhone output' id='iphoneOutputExample' src='/assets/images/iphone-output.png' />
    </a>
  </div>
</section><!-- Modals --><div aria-hidden='true' aria-labelledby='myModalLabel' class='modal hide fade' id='chromeOutputModal' role='dialog' tabindex='-1'>
  <img alt='' src='/assets/images/chrome-output.jpg' />
</div><div aria-hidden='true' aria-labelledby='myModalLabel' class='modal hide fade' id='terminalOutputModal' role='dialog' tabindex='-1'>
  <img alt='' src='/assets/images/terminal-output.jpg' />
</div><div aria-hidden='true' aria-labelledby='myModalLabel' class='modal hide fade' id='iphoneOutputModal' role='dialog' tabindex='-1'>
  <img alt='' src='/assets/images/iphone-output.png' />
</div><!-- /Modals --><hr />
<h1 id='getting_started'>Getting started</h1>

<h2 id='include_the_logging_client_in_your_application'>Include the logging client in your application</h2>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;path/to/rcl.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
</code></pre>
</div>
<p>For AMD/RequireJS, It is still recommended that you add it as a script source for easy removal with <code>grunt-preprocess</code></p>

<h2 id='install_the__npm_package'>Install the <code>rcl</code> npm package</h2>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>sudo npm install -g rcl
</code></pre>
</div>
<h2 id='run_'>Run <code>rcl</code></h2>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>rcl
Running <span class='s2'>&quot;rcl&quot;</span> task
   info  - socket.io started
<span class='o'>[</span>2012-09-25 09:14:48.863<span class='o'>]</span> <span class='o'>[</span>DEBUG<span class='o'>]</span> rcl - Connected on port 8888
</code></pre>
</div>
<h2 id='log_to_your_hearts_content'>Log to your heart&#8217;s content</h2>
<div class='highlight'><pre><code class='js'><span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>info</span><span class='p'>(</span><span class='s2'>&quot;Hi, I am your app.&quot;</span><span class='p'>);</span>
<span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>debug</span><span class='p'>(</span><span class='s2'>&quot;Foo is now : %s&quot;</span><span class='p'>,</span> <span class='mi'>42</span><span class='p'>);</span>
</code></pre>
</div>
<p>Logs will show up in your console, rcl (if running), and any client connected to your rcl instance.</p>
<hr />
<h1 id='usage'>Usage</h1>

<p>Include the source file in your client application and you can use the following commands immediately</p>
<div class='highlight'><pre><code class='js'><span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>info</span><span class='p'>()</span>
<span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>debug</span><span class='p'>()</span>
<span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>trace</span><span class='p'>()</span>
<span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>error</span><span class='p'>()</span>
<span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>warn</span><span class='p'>()</span>
</code></pre>
</div>
<h4 id='getting_the_client_source_file'>Getting the client source file</h4>

<p>You can download it at <a href='https://raw.github.com/jsoverson/rcl/master/src/rcl.js'>raw.github.com/jsoverson/rcl/master/src/rcl.js</a> or you can output the version that matches your npm install via</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>rcl rcl.js &gt; path/for/rcl.js
</code></pre>
</div>
<h4 id='specify_a_different_host_to_connect_to'>Specify a different host to connect to</h4>
<div class='highlight'><pre><code class='js'><span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>connect</span><span class='p'>(</span><span class='s1'>&#39;127.0.0.1&#39;</span><span class='p'>,</span><span class='s1'>&#39;8888&#39;</span><span class='p'>);</span>
</code></pre>
</div>
<h4 id='configure_log_levels'>Configure log levels</h4>
<div class='highlight'><pre><code class='js'><span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>logLevel</span><span class='p'>(</span><span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>INFO</span><span class='p'>);</span>
</code></pre>
</div>
<h4 id='turn_off_logging'>Turn off logging</h4>
<div class='highlight'><pre><code class='js'><span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>server</span> <span class='o'>=</span> <span class='kc'>false</span><span class='p'>;</span> <span class='c1'>// || true</span>
<span class='nx'>rcl</span><span class='p'>.</span><span class='nx'>client</span> <span class='o'>=</span> <span class='kc'>false</span><span class='p'>;</span> <span class='c1'>// || true</span>
</code></pre>
</div>
<h2 id='sprintf_like_formatting'>Sprintf like formatting</h2>

<p>For console logging, the support is the native console&#8217;s capabilities. Terminal and web client support use <a href='https://github.com/jsoverson/string-format'>string-format</a> syntax (mostly the same).</p>
<hr />
<h1 id='how_to_strip_logging'>How to strip logging</h1>

<p>Two grunt tasks have been extracted from this project and packaged independently, <a href='https://github.com/jsoverson/grunt-strip'>grunt-strip</a> and <a href='https://github.com/onehealth/grunt-preprocess'>grunt-preprocess</a>. Both have more documentation at their project sites, but basic usage is below.</p>

<p>Both are designed to be run as part of a build chain, usually after concatenation and before minification.</p>

<h3 id='installing_grunt_tasks'>Installing grunt tasks</h3>

<p>Add <code>grunt-strip</code> and <code>grunt-preprocess</code> to your package.json&#8217;s dependencies hash, or run</p>
<div class='highlight'><pre><code class='bash'><span class='nv'>$ </span>npm install --save grunt-strip grunt-preprocess
</code></pre>
</div>
<p>Remember to load these tasks as part of your gruntfile</p>
<div class='highlight'><pre><code class='js'><span class='nx'>grunt</span><span class='p'>.</span><span class='nx'>npmTasks</span><span class='p'>(</span><span class='s1'>&#39;grunt-strip&#39;</span><span class='p'>);</span>
<span class='nx'>grunt</span><span class='p'>.</span><span class='nx'>npmTasks</span><span class='p'>(</span><span class='s1'>&#39;grunt-preprocess&#39;</span><span class='p'>);</span>
</code></pre>
</div>
<h3 id='removing_the_script_source_using_'>Removing the script source using <code>grunt-preprocess</code></h3>

<h4 id='syntax'>Syntax</h4>
<div class='highlight'><pre><code class='html'><span class='c'>&lt;!-- exclude --&gt;</span>
<span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;path/to/rcl.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
<span class='c'>&lt;!-- endexclude --&gt;</span>
</code></pre>
</div>
<h4 id='configuration_in_your_gruntfile'>Configuration in your Gruntfile</h4>
<div class='highlight'><pre><code class='js'><span class='nx'>preprocess</span> <span class='o'>:</span> <span class='p'>{</span>
  <span class='nx'>main</span> <span class='o'>:</span> <span class='p'>{</span>
    <span class='nx'>src</span> <span class='o'>:</span> <span class='s1'>&#39;src/index.html&#39;</span><span class='p'>,</span>
    <span class='nx'>dest</span> <span class='o'>:</span> <span class='s1'>&#39;build/index.html&#39;</span>
  <span class='p'>}</span>
<span class='p'>}</span>
</code></pre>
</div>
<p>See <a href='https://github.com/onehealth/grunt-preprocess'>grunt-preprocess</a> for advanced configurations</p>

<h3 id='removing_the_log_statements_using_'>Removing the log statements using <code>grunt-strip</code></h3>

<h4 id='example_grunt_configuration'>Example grunt configuration</h4>
<div class='highlight'><pre><code class='js'><span class='nx'>strip</span> <span class='o'>:</span> <span class='p'>{</span>
  <span class='nx'>main</span> <span class='o'>:</span> <span class='p'>{</span>
    <span class='nx'>src</span> <span class='o'>:</span> <span class='s1'>&#39;src/main.js&#39;</span><span class='p'>,</span>
    <span class='nx'>dest</span> <span class='o'>:</span> <span class='s1'>&#39;build/main.built.js&#39;</span><span class='p'>,</span>
    <span class='nx'>nodes</span> <span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;rcl&#39;</span><span class='p'>,</span><span class='s1'>&#39;console&#39;</span><span class='p'>]</span>
  <span class='p'>}</span>
<span class='p'>}</span>
</code></pre>
</div>
<p>See <a href='https://github.com/jsoverson/grunt-strip'>grunt-strip</a> for advanced configurations</p>
<hr />
<h1 id='faq'>FAQ</h1>

<h3 id='why_use_rcl'>Why use RCL?</h3>

<p>You are programming in a language stretched beyond its design across environments spanning years of standards and are delivering your source code directly to the client to be run outside of your control.</p>

<p>It&#8217;s hard but so, so awesome and you are a brilliant genius to have gotten this far.</p>

<p>At the base, RCL is just a websocket bridge to log from your browser to another client. It could be anything, but right now is something like a server, another browser tab, or a mobile device.</p>

<p>RCL aggregates and classifies your log messages so that they are configurable in verbosity, using log4js on the server side for more flexibility.</p>

<h3 id='does_my_application_break_if_rcl_is_not_running'>Does my application break if rcl is not running?</h3>

<p>No, you will still get console messages in your browser.</p>

<h3 id='why_is_this_not_recommended_for_production_logging'>Why is this not recommended for production logging?</h3>

<p>Because logging will bloat your code, expose intent behind your logic, and be an extra burden on the client. But, that said, if production logging is important enough to you, then try it out and we&#8217;d love to hear how it works.</p>

<p>Our primary frustration for large JavaScript projects is the lack of extensive logging during development and testing. This is a solution to that works very well and allows for fewer issues to occur in production.</p>

<p>One avenue being considered is to have <a href='https://github.com/jsoverson/grunt-strip'>grunt-strip</a> support removing properties of nodes so that only certain log levels can be removed.</p>

<h3 id='_as_a_grunt_plugin'><code>rcl</code> as a grunt plugin</h3>

<p>RCL was written with grunt so, by convenience, can be used as a grunt plugin. No special functionality exists, but you can specify a custom port via an <code>rcl</code> config</p>
<div class='highlight'><pre><code class='js'><span class='nx'>rcl</span> <span class='o'>:</span> <span class='p'>{</span>
  <span class='nx'>port</span> <span class='o'>:</span> <span class='mi'>3000</span>
<span class='p'>}</span>
</code></pre>
</div>
<h3 id='log4js_configuration'>log4js configuration</h3>

<p>Please visit the project page for documentation <a href='https://github.com/nomiddlename/log4js-node'>log4js-node</a></p>
  </div>
</div>


    </div>
</div>




<footer class="footer">
    <div class="container">
        <p>By <a href="http://jarrodoverson.com/">Jarrod Overson</a>. Licensed under the <a href="http://opensource.org/licenses/mit-license.php">MIT License</a>.</p>
    </div>
</footer>

<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="https://raw.github.com/twitter/bootstrap/master/js/bootstrap-modal.js"></script>

</body>
</html>

